# 准备工作

## 脚手架实现原理
1. 脚手架的本质上只是一个操作系统的一个客户端，脚手架运行是依赖于node，node就是一个客户端，通过node去执行一系列的代码。
2. 通过软链接可以链接到我们自己的js文件，执行这个文件
3. 脚手架执行过程:
> 1. 输入vue create xxx
> 2. 在环境变量$path中查询vue命令(相当于执行which vue)
> 3. 找到实际执行的文件
> 4. 通过/usr/bin/env node执行文件

## 脚手架的核心价值
1. 研发自动化：项目重复代码拷贝->git操作->发布上线等操作
2. 研发标准化：项目创建的git flow、发布流程、发布回滚统一规范
3. 研发数据化：可以统计研发过程中发布耗时，安装耗时等数据

## 脚手架开发流程

- 创建一个```npm```项目
- 创建脚手架入口文件，最上方添加
> #!/usr/bin/env node
- 配置```package.json```，添加```bin```属性
- 编写脚手架代码
- 发布脚手架

## 脚手架使用流程
- 安装脚手架
> npm install -g xxx-cli
- 使用脚手架
> xxx-cli

## 脚手架开发难点
1. 分包：将复杂模块拆分成各个模块
2. 命令注册
```
xxx-cli crete
xxx-cli add
vue-cli ...
```
3. 参数解析
```xxx-cli command [options] <params>```
4. 命令行交互
5. 日志打印
6. 命令行输出变色
7. 文件上传、下载